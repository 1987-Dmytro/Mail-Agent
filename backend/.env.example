# Environment Configuration Example
# Mail Agent Backend Service

# Application Settings
APP_ENV=development
PROJECT_NAME="Mail Agent"
VERSION=0.1.0
DEBUG=true

# API Settings
API_V1_STR=/api/v1

# CORS Settings - Allow frontend on localhost:3000
ALLOWED_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"

# Langfuse Settings (Optional - for LLM observability)
LANGFUSE_PUBLIC_KEY="your-langfuse-public-key"
LANGFUSE_SECRET_KEY="your-langfuse-secret-key"
LANGFUSE_HOST=https://cloud.langfuse.com

# LLM Settings - Gemini API (for AI email classification and response generation)
# Get API key from: https://ai.google.dev/
GEMINI_API_KEY="your-gemini-api-key-here"
GEMINI_MODEL=gemini-2.5-flash
DEFAULT_LLM_TEMPERATURE=0.1
MAX_TOKENS=500
MAX_LLM_CALL_RETRIES=3

# JWT Settings (for user authentication)
JWT_SECRET_KEY="your-jwt-secret-key-change-in-production"
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_DAYS=30

# Database Settings - PostgreSQL (Story 1.3 will set this up)
POSTGRES_HOST=localhost
POSTGRES_DB=mail_agent_db
POSTGRES_USER=mail_agent_user
POSTGRES_PORT=5432
POSTGRES_PASSWORD=your-postgres-password
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=10

# Gmail API Settings (Story 1.4)
GMAIL_CLIENT_ID="your-gmail-oauth-client-id"
GMAIL_CLIENT_SECRET="your-gmail-oauth-client-secret"
GMAIL_REDIRECT_URI="http://localhost:8000/api/v1/auth/gmail/callback"

# Telegram Bot Settings (Epic 2 - Stories 2.4-2.7)
# Bot: @June_25_AMB_bot
# Get token from: @BotFather on Telegram
TELEGRAM_BOT_TOKEN="your_telegram_bot_token_here"
TELEGRAM_BOT_USERNAME="June_25_AMB_bot"  # Your bot username (without @)
TELEGRAM_WEBHOOK_URL=""  # Leave empty for polling mode (development)
TELEGRAM_WEBHOOK_SECRET=""  # For production webhook mode

# Admin API Settings (Story 2.11 - AC #7)
# API key for admin dashboard endpoint (GET /api/v1/admin/errors)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ADMIN_API_KEY="your-admin-api-key-change-in-production"

# Redis Settings (for Celery task queue - Story 1.6)
REDIS_URL="redis://localhost:6379/0"

# Celery Settings (Story 1.6 - Background Task Processing)
CELERY_BROKER_URL="redis://localhost:6379/0"
CELERY_RESULT_BACKEND="redis://localhost:6379/0"

# Email Polling Settings (Story 1.6)
POLLING_INTERVAL_SECONDS=120

# Encryption Key (for storing sensitive OAuth tokens)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY="your-encryption-key-32-chars-min"

# Rate Limiting Settings
RATE_LIMIT_DEFAULT="1000 per day,200 per hour"
RATE_LIMIT_ROOT="10 per minute"
RATE_LIMIT_HEALTH="20 per minute"
RATE_LIMIT_LOGIN="20 per minute"
RATE_LIMIT_REGISTER="10 per hour"

# Logging - Structured JSON format for production
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=logs

# ChromaDB Vector Database (Epic 3 - Story 3.1)
# Path for persistent vector database storage
CHROMADB_PATH=./backend/data/chromadb
