[WebServer] [baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`

Running 10 tests using 2 workers

âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== TESTING RETURNING USER EXPERIENCE ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
âœ… RETURNING USER TEST PASSED
  âœ“   1 [chromium] â€º tests/e2e/complete-user-journey.spec.ts:187:7 â€º Complete User Journey E2E â€º returning user can access all features directly (1.5s)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection

ðŸ’¬ PHASE 3: Telegram Linking - verifying token detection
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/telegram/link
ðŸ”µ MSWâ†’PW: POST /api/v1/telegram/link â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/telegram/verify/123456 (code: 123456)
ðŸ”µ MSWâ†’PW: GET /api/v1/telegram/verify/123456 â†’ 200
Telegram detected token and showed success state - clicking Continue

ðŸ“ PHASE 4: Folder Setup - creating default folder
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Important'[39m,
  keywords: [ [32m'urgent'[39m, [32m'Ð²Ð°Ð¶Ð½Ð¾'[39m, [32m'wichtig'[39m ],
  color: [32m'#EF4444'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Government'[39m,
  keywords: [ [32m'finanzamt'[39m, [32m'auslÃ¤nderbehÃ¶rde'[39m, [32m'tax'[39m, [32m'visa'[39m ],
  color: [32m'#F97316'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Clients'[39m,
  keywords: [ [32m'meeting'[39m, [32m'project'[39m, [32m'client'[39m ],
  color: [32m'#3B82F6'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200

âœ… PHASE 5: Completion Step

ðŸ“Š PHASE 6: Verifying Dashboard
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/users/complete-onboarding
ðŸ”µ MSWâ†’PW: POST /api/v1/users/complete-onboarding â†’ 200
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
Current URL: http://localhost:3000/dashboard
âœ… DASHBOARD PAGE VERIFIED - User successfully reached dashboard after onboarding!

âœ… COMPLETE USER JOURNEY TEST PASSED
  âœ“   3 [firefox] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (10.2s)
  âœ˜   2 [chromium] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (13.6s)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== TESTING RETURNING USER EXPERIENCE ===
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
âœ… RETURNING USER TEST PASSED
  âœ“   4 [firefox] â€º tests/e2e/complete-user-journey.spec.ts:187:7 â€º Complete User Journey E2E â€º returning user can access all features directly (1.3s)

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services

ðŸ’¬ PHASE 3: Telegram Linking - verifying token detection
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/telegram/link
ðŸ”µ MSWâ†’PW: POST /api/v1/telegram/link â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/telegram/verify/123456 (code: 123456)

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection
ðŸ”µ MSWâ†’PW: GET /api/v1/telegram/verify/123456 â†’ 200
Telegram detected token and showed success state - clicking Continue

ðŸ“ PHASE 4: Folder Setup - creating default folder
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Important'[39m,
  keywords: [ [32m'urgent'[39m, [32m'Ð²Ð°Ð¶Ð½Ð¾'[39m, [32m'wichtig'[39m ],
  color: [32m'#EF4444'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Government'[39m,
  keywords: [ [32m'finanzamt'[39m, [32m'auslÃ¤nderbehÃ¶rde'[39m, [32m'tax'[39m, [32m'visa'[39m ],
  color: [32m'#F97316'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Clients'[39m,
  keywords: [ [32m'meeting'[39m, [32m'project'[39m, [32m'client'[39m ],
  color: [32m'#3B82F6'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200

ðŸ’¬ PHASE 3: Telegram Linking - verifying token detection
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/telegram/link
ðŸ”µ MSWâ†’PW: POST /api/v1/telegram/link â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/telegram/verify/123456 (code: 123456)

âœ… PHASE 5: Completion Step
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/users/complete-onboarding
ðŸ”µ MSWâ†’PW: POST /api/v1/users/complete-onboarding â†’ 200

ðŸ“Š PHASE 6: Verifying Dashboard
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
ðŸ”µ MSWâ†’PW: GET /api/v1/telegram/verify/123456 â†’ 200
Telegram detected token and showed success state - clicking Continue

ðŸ“ PHASE 4: Folder Setup - creating default folder
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Important'[39m,
  keywords: [ [32m'urgent'[39m, [32m'Ð²Ð°Ð¶Ð½Ð¾'[39m, [32m'wichtig'[39m ],
  color: [32m'#EF4444'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Government'[39m,
  keywords: [ [32m'finanzamt'[39m, [32m'auslÃ¤nderbehÃ¶rde'[39m, [32m'tax'[39m, [32m'visa'[39m ],
  color: [32m'#F97316'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Clients'[39m,
  keywords: [ [32m'meeting'[39m, [32m'project'[39m, [32m'client'[39m ],
  color: [32m'#3B82F6'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200

âœ… PHASE 5: Completion Step
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/users/complete-onboarding
ðŸ”µ MSWâ†’PW: POST /api/v1/users/complete-onboarding â†’ 200

ðŸ“Š PHASE 6: Verifying Dashboard
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
Current URL: http://localhost:3000/dashboard
âœ… DASHBOARD PAGE VERIFIED - User successfully reached dashboard after onboarding!

âœ… COMPLETE USER JOURNEY TEST PASSED
  âœ“   5 [chromium] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (retry #1) (9.3s)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== TESTING RETURNING USER EXPERIENCE ===
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
âœ… RETURNING USER TEST PASSED
  âœ“   7 [webkit] â€º tests/e2e/complete-user-journey.spec.ts:187:7 â€º Complete User Journey E2E â€º returning user can access all features directly (1.0s)
Current URL: http://localhost:3000/dashboard
âœ… DASHBOARD PAGE VERIFIED - User successfully reached dashboard after onboarding!

âœ… COMPLETE USER JOURNEY TEST PASSED
  âœ“   6 [webkit] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (10.0s)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== TESTING RETURNING USER EXPERIENCE ===

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
âœ… RETURNING USER TEST PASSED
  âœ“   9 [mobile-chrome] â€º tests/e2e/complete-user-journey.spec.ts:187:7 â€º Complete User Journey E2E â€º returning user can access all features directly (696ms)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== STARTING COMPLETE USER JOURNEY E2E TEST ===

ðŸ”§ PHASE 0: Setting up auth tokens to simulate connected services

ðŸ“‹ PHASE 1: Onboarding - Welcome
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/auth/gmail/config
ðŸ”µ MSWâ†’PW: GET /api/v1/auth/gmail/config â†’ 200

ðŸ“§ PHASE 2: Gmail Connection - verifying token detection

ðŸ’¬ PHASE 3: Telegram Linking - verifying token detection
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/telegram/link
ðŸ”µ MSWâ†’PW: POST /api/v1/telegram/link â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/telegram/verify/123456 (code: 123456)

ðŸ’¬ PHASE 3: Telegram Linking - verifying token detection
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/telegram/link
ðŸ”µ MSWâ†’PW: POST /api/v1/telegram/link â†’ 200
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/telegram/verify/123456 (code: 123456)
ðŸ”µ MSWâ†’PW: GET /api/v1/telegram/verify/123456 â†’ 200
Telegram detected token and showed success state - clicking Continue

ðŸ“ PHASE 4: Folder Setup - creating default folder
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Important'[39m,
  keywords: [ [32m'urgent'[39m, [32m'Ð²Ð°Ð¶Ð½Ð¾'[39m, [32m'wichtig'[39m ],
  color: [32m'#EF4444'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Government'[39m,
  keywords: [ [32m'finanzamt'[39m, [32m'auslÃ¤nderbehÃ¶rde'[39m, [32m'tax'[39m, [32m'visa'[39m ],
  color: [32m'#F97316'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Clients'[39m,
  keywords: [ [32m'meeting'[39m, [32m'project'[39m, [32m'client'[39m ],
  color: [32m'#3B82F6'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200

âœ… PHASE 5: Completion Step

ðŸ“Š PHASE 6: Verifying Dashboard
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/users/complete-onboarding
ðŸ”µ MSWâ†’PW: POST /api/v1/users/complete-onboarding â†’ 200
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
ðŸ”µ MSWâ†’PW: GET /api/v1/telegram/verify/123456 â†’ 200
Telegram detected token and showed success state - clicking Continue

ðŸ“ PHASE 4: Folder Setup - creating default folder
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Important'[39m,
  keywords: [ [32m'urgent'[39m, [32m'Ð²Ð°Ð¶Ð½Ð¾'[39m, [32m'wichtig'[39m ],
  color: [32m'#EF4444'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Government'[39m,
  keywords: [ [32m'finanzamt'[39m, [32m'auslÃ¤nderbehÃ¶rde'[39m, [32m'tax'[39m, [32m'visa'[39m ],
  color: [32m'#F97316'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/folders {
  name: [32m'Clients'[39m,
  keywords: [ [32m'meeting'[39m, [32m'project'[39m, [32m'client'[39m ],
  color: [32m'#3B82F6'[39m
}
ðŸ”µ MSWâ†’PW: POST /api/v1/folders â†’ 200

âœ… PHASE 5: Completion Step
ðŸ”µ MSW: Intercepted POST http://localhost:8000/api/v1/users/complete-onboarding
ðŸ”µ MSWâ†’PW: POST /api/v1/users/complete-onboarding â†’ 200

ðŸ“Š PHASE 6: Verifying Dashboard
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
Current URL: http://localhost:3000/dashboard
âœ… DASHBOARD PAGE VERIFIED - User successfully reached dashboard after onboarding!

âœ… COMPLETE USER JOURNEY TEST PASSED
  âœ“   8 [mobile-chrome] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (9.2s)
âœ… MSWâ†’Playwright Bridge: Installed 13/13 routes
=== TESTING RETURNING USER EXPERIENCE ===
Current URL: http://localhost:3000/dashboard
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ PW Route: Intercepted GET http://localhost:8000/api/v1/auth/status
ðŸ”µ PW Route: Returning user: {
  "id": 1,
  "email": "test@example.com",
  "gmail_connected": true,
  "telegram_connected": true,
  "telegram_id": "123456789",
  "telegram_username": "testuser",
  "onboarding_completed": true
}
ðŸ”µ MSW: Intercepted GET http://localhost:8000/api/v1/dashboard/stats
ðŸ”µ MSWâ†’PW: GET /api/v1/dashboard/stats â†’ 200
âœ… DASHBOARD PAGE VERIFIED - User successfully reached dashboard after onboarding!

âœ… COMPLETE USER JOURNEY TEST PASSED
âœ… RETURNING USER TEST PASSED
  âœ“  10 [mobile-safari] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system (9.3s)
  âœ“  11 [mobile-safari] â€º tests/e2e/complete-user-journey.spec.ts:187:7 â€º Complete User Journey E2E â€º returning user can access all features directly (920ms)


  1) [chromium] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: getByRole('heading', { name: /gmail connected/i })
    Expected: visible
    Timeout: 10000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 10000ms[22m
    [2m  - waiting for getByRole('heading', { name: /gmail connected/i })[22m


      79 |     // Verify Gmail connection success state is shown
      80 |     const gmailSuccess = page.getByRole('heading', { name: /gmail connected/i });
    > 81 |     await expect(gmailSuccess).toBeVisible({ timeout: 10000 });
         |                                ^
      82 |
      83 |     // Click Next to proceed (should be enabled now that Gmail is "connected")
      84 |     const nextBtn = page.getByRole('button', { name: /next/i }).first();
        at /Users/hdv_1987/Desktop/ÐŸÑ€Ñ€Ð¾ÐµÐºÑ‚Ñ‹/Mail Agent/frontend/tests/e2e/complete-user-journey.spec.ts:81:32

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/complete-user-journey-Comp-71358-oarding-and-uses-the-system-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/complete-user-journey-Comp-71358-oarding-and-uses-the-system-chromium/error-context.md

  1 flaky
    [chromium] â€º tests/e2e/complete-user-journey.spec.ts:26:7 â€º Complete User Journey E2E â€º new user completes full onboarding and uses the system 
  9 passed (42.7s)
